function refreshForm(innerHTML) {
  const newNoteForm = document.getElementById('new_note');
  newNoteForm.innerHTML = innerHTML;
}

function addNote(noteHTML) {
  const notes = document.getElementById('contact-notes');
  notes.insertAdjacentHTML('beforeend', noteHTML);
}

<% if @note.errors.any? %>
  refreshForm('<%= j render "notes/form", contact: @contact, note: @note %>');
<% else %>
  addNote('<%= j render "notes/show", note: @note %>');
  refreshForm('<%= j render "notes/form", contact: @contact, note: Note.new %>');
<% end %>
